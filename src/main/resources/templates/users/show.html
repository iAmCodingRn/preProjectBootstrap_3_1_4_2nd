<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorate="layouts/layout">
<head>
    <meta charset="UTF-8"></meta>
    <title>User information-page</title>
</head>
<body>
<th:block layout:fragment="content">
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active border bg-white" id="users" role="tabpanel"
             aria-labelledby="users-tab">
            <th:block th:if="${#httpServletRequest.requestURI == '/admin'}">
                <h5 class="p-3 m-0 border-bottom" style="background-color: #f0f0f1">All users</h5>
            </th:block>
            <th:block th:if="${#httpServletRequest.requestURI != '/admin'}">
                <h5 class="p-3 m-0 border-bottom" style="background-color: #f0f0f1">About users</h5>
            </th:block>
            <div class="p-3">
                <table class="table table-striped table-hover" id="table-users"
                       style="border-top: 2px solid #dee2e678;">
                    <thead>
                    <tr>
                        <th class="border-top border-bottom-0 border-light" scope="col">ID</th>
                        <th class="border-top border-bottom-0 border-light" scope="col">First Name</th>
                        <th class="border-top border-bottom-0 border-light" scope="col">Last Name</th>
                        <th class="border-top border-bottom-0 border-light" scope="col">Age</th>
                        <th class="border-top border-bottom-0 border-light" scope="col">Email</th>
                        <th class="border-top border-bottom-0 border-light" scope="col">Role</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td class="border-top border-bottom-0 align-middle" th:text="${user.getId()}"></td>
                        <td class="border-top border-bottom-0 align-middle" th:text="${user.getFirstName()}"></td>
                        <td class="border-top border-bottom-0 align-middle" th:text="${user.getLastName()}"></td>
                        <td class="border-top border-bottom-0 align-middle" th:text="${user.getAge()}"></td>
                        <td class="border-top border-bottom-0 align-middle" th:text="${user.getEmail()}"></td>
                        <td class="border-top border-bottom-0 align-middle">
                            <span th:each="role : ${user.roles}"
                                  th:text="${role.getName().replaceFirst('ROLE_', '') + ' '}"></span>
                        </td>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</th:block>
</body>
</html>